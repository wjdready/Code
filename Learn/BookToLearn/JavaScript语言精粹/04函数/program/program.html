<html>

<body>
    <pre>

    <script>

var add_the_handlers = function (nodes) {
    for (var i = 0; i < nodes.length; i++) {
        nodes[i].onclick = function (e) {
            alert(i);
        };
    }
};

var add_the_handlers2 = function (nodes)  {
    var helper = function (i) {
        return function (e) {
            alert(i);
        };
    };
    for (var i = 0; i < nodes.length; i += 1) {
        nodes[i].onclick = helper(i);
    }
};

var buttons = (function() {
    var buttons = [];
    for (var i = 0; i < 5; i++) {
        var btn = document.createElement("input");
        btn.type = "button";
        btn.value = "Button " + i;
        buttons.push(btn);
        document.body.appendChild(btn);
    }
    return buttons;
})();

add_the_handlers(buttons);
        
    </script>

    </pre>

</body>