
我修改了一部分代码，提交了，但是发现bug很多，现在需要回退到之前某个稳定版本，从那里开始修改，但是当前修改的几个提交是好的，不想回退到稳定版后还需要重新编辑，而是回退到稳定版本后直接合并那几个好的提交​


```sh
# 查看详细的提交历史
git log --oneline --graph --decorate

# 为了安全起见，最好在一个新分支上进行操作
# 基于稳定版本创建新分支
git checkout -b new_feature_branch q3r4s5t

# 依次应用好的提交（注意顺序很重要，应先应用较新A, 再应用更新的B, 一层一层往上）
git cherry-pick m0n1o2p 
git cherry-pick i7j8k9l

# 如果在cherry-pick过程中出现冲突，需要手动解决冲突，然后：
# 标记冲突已解决
git add .
# 继续cherry-pick
git cherry-pick --continue

# 切换到主分支
git checkout master
# 将主分支重置到新分支的状态
git reset --hard new_feature_branch
# 删除临时创建的分支
git branch -d new_feature_branch

# 对于公共分支，最好使用revert方式
# 对于私有分支或个人分支，可以强制推送
git push --force origin main

```


另一种方法：使用交互式 rebase

```sh
# 从稳定版本开始进行交互式rebase
git rebase -i q3r4s5t
```
