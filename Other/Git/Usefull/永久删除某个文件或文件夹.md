
```sh
git filter-branch --force --index-filter "git rm --cached --ignore-unmatch -r 要删除的文件路径" --prune-empty --tag-name-filter cat -- --all

# 2. 清理引用日志和对象数据库
git reflog expire --expire=now --all
git gc --prune=now --aggressive

# 3. 强制推送到所有远程分支
git push --force --all
git push --force --tags
```
