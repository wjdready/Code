
## å˜é‡å’Œå¯å˜æ€§

Rust ä¸­çš„å˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„, è¦å®šä¹‰å¯å˜åŒ–çš„å˜é‡, éœ€è¦æ·»åŠ  mut æ˜¾å¼è¯´æ˜

```rust
// å˜é‡å’Œå¯å˜æ€§
let mut x = 1;

// å¸¸é‡, æ€»æ˜¯ä¸å¯å˜çš„, ä¸”å¿…é¡»æœ‰ç±»å‹æ³¨é‡Š, å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸä¸­å£°æ˜
const SECONDS: u32 = 60 * 60;

// å˜é‡è¦†ç›–, æ–°çš„ x å°†å˜ä¸º 6
let x = 5;
let x = x + 1;
```

## æ•°æ®ç±»å‹

```rust
// è¿™å°†æŠ¥é”™, æŒ‡å®šç±»å‹æ— æ³•è§£æ, è¶…è¿‡èŒƒå›´ä¹Ÿå°†æŠ¥é”™æ¯”å¦‚ "256"
let guess: u8 = "-1".parse().expect("Number Error!");
```

#### 1. æ ‡é‡ç±»å‹ (åŸºæœ¬æ•°æ®ç±»å‹)

æ ‡é‡ç±»å‹è¡¨ç¤ºå•ä¸ªå€¼, Rustæœ‰å››ç§ä¸»è¦çš„æ ‡é‡ç±»å‹ï¼š æ•´æ•°ã€æµ®ç‚¹æ•°ã€å¸ƒå°”å€¼å’Œå­—ç¬¦ã€‚


##### æ•´æ•°

```rust
// i8 ~ i128, isize å°†éšä½“ç³»ç»“æ„è€Œå˜åŒ–, é»˜è®¤ç±»å‹ i32
// è¡¨ç°å½¢å¼, å¯é€šè¿‡ _ æ¥åˆ†éš”
let x = 98_222;
let x = 0xff;
let x = 0o77;
let x = 0b1111_0000;
let x = b'A';           // ä»…ç”¨äº u8 ç±»å‹, è¿™æ—¶ x å°†è‡ªåŠ¨ä¸º u8
let x = b'A' as u32;    // å°† u8 è½¬æ¢ä¸º u32
let x = 57u8;           // æŒ‡å®šä¸º u8 ç±»å‹
```

æ•´æ•°æº¢å‡ºåœ¨ debug æ¨¡å¼æ—¶ä¼šæŠ›å‡ºé”™è¯¯, ä½†åœ¨ release æ¨¡å¼åˆ™ä¼šå–æº¢å‡ºåæŸä¸ªå€¼, å¯æ˜¾å¼å¤„ç†è¦æº¢å‡ºçš„å¯èƒ½æ€§:

```rust
let x: u8 = 255;
let y = x.checked_add(2);
if y.is_none() {
    // æº¢å‡ºäº†
} else {
    // æ²¡æœ‰æº¢å‡º
}
```

##### æµ®ç‚¹

`f32 å’Œ f64 (é»˜è®¤)`

æ•´æ•°ä¸æµ®ç‚¹åŒæ—¶å­˜åœ¨çš„è¡¨è¾¾å¼ä¸­ï¼ŒRust é»˜è®¤ä¸ä¼šè‡ªåŠ¨è½¬åŒ–ï¼Œéœ€æ˜¾å¼å¼ºåˆ¶è½¬æ¢

```rust
let x = 5;
let x = x as f32 * 3.14;
```

##### å¸ƒå°”å’Œå­—ç¬¦

`true` `false` `char`

Rust çš„ char ç±»å‹å¤§å°ä¸º 4 ä¸ªå­—èŠ‚ï¼Œ è¡¨ç¤º Unicode æ ‡é‡å€¼

è¿™ä½¿å¾—å¯ä»¥å®šä¹‰ä¸€ä¸ª char ä¿å­˜ä¸€ä¸ª emoj è¡¨æƒ… `let emoj = 'ğŸ˜»';`

#### 2. å¤åˆç±»å‹

å¤åˆç±»å‹å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆåˆ°ä¸€ä¸ªç±»å‹ä¸­ã€‚Rustæœ‰ä¸¤ä¸ª åŸå§‹å¤åˆç±»å‹ï¼šå…ƒç»„å’Œæ•°ç»„

##### å…ƒç»„

æ˜¯ä¸€ç§å°†å¤šä¸ªå€¼åˆ†ç»„åœ¨ä¸€èµ·çš„é€šç”¨æ–¹æ³•ï¼Œ å°†å¤šç§ç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªå¤åˆç±»å‹ã€‚å…ƒç»„æœ‰ä¸€ä¸ªå›ºå®šçš„é•¿åº¦ï¼šä¸€æ¬¡å£°æ˜ï¼Œä»–ä»¬ä¸èƒ½å¢é•¿æˆ–ç¼©å°çš„å¤§å°

```rust
let tup = (500, 6.4, 1);

// _ å¿½ç•¥è¯¥å…ƒç»„å…ƒç´ 
let (x, y, _) = tup;

// å¯é€šè¿‡ '.' ç¬¦å·è®¿é—®å…ƒç»„å…ƒç´ 
let one = tup.0;
println!("y: {y}, one: {one}");

// ç©ºå…ƒç»„
let x = ();
```

##### æ•°ç»„ç±»å‹

å¦ä¸€ç§æ‹¥æœ‰å¤šä¸ªå€¼çš„é›†åˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨æ•°ç»„ã€‚ä¸åƒå…ƒç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ å¿…é¡»å…·æœ‰ç›¸åŒçš„ç±»å‹ã€‚

æ•°ç»„æ˜¯ä¸€ä¸ªå·²çŸ¥çš„ã€å›ºå®šå¤§å°çš„å†…å­˜å—ï¼Œåœ¨æ ˆä¸Šåˆ†é…, å› æ­¤æ•°ç»„å¿…é¡»é•¿åº¦å¿…é¡»æ˜¯å›ºå®šçš„ã€‚

```rust
let a = [1, 2, 3, 4, 5];

// ç±»å‹æ³¨é‡Š, åœ¨æ‹¬å·ä¸­è¡¨ç¤ºç±»å‹å’Œæ•°ç»„å¤§å°
let a: [u8; 5] = [1, 2, 3, 4, 5];

// èµ‹äºˆåˆå€¼, åœ¨æ‹¬å·ä¸­è¡¨ç¤ºèµ‹äºˆæ¯ä¸ªå…ƒç´ çš„åˆå€¼å’Œæ•°ç»„å¤§å°
let a = [0; 5];

// å½“è®¿é—®è¶Šç•Œï¼Œæ— è®º debug è¿˜æ˜¯ releaseï¼ŒRust ç¨‹åºå°†é€€å‡ºå¹¶æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
let mut input = String::new();
std::io::stdin().read_line(&mut input).unwrap();
let index: usize = input.trim().parse().unwrap();

let x = a[index];
```

## å‡½æ•°


##### è¯­å¥å’Œè¡¨è¾¾å¼

Rust å¯¹è¯­å¥å’Œè¡¨è¾¾å¼æœ‰ä¸¥æ ¼çš„åŒºåˆ†:

* è¯­å¥: æ‰§è¡ŒæŸäº›æ“ä½œä¸”æ²¡æœ‰è¿”å›å€¼
* è¡¨è¾¾å¼: æ‰§è¡ŒæŸäº›æ“ä½œå¹¶è¿”å›æ“ä½œç»“æœ

è¿™ç‚¹å’Œ C ä¸åŒ, ä¾‹å¦‚ `x = y = 0` åœ¨ C æ˜¯æˆç«‹çš„, ä½†æ˜¯ Rust ä¼šè®¤ä¸º `y = 0` æ˜¯ä¸€ä¸ªè¯­å¥, æ— æ³•å°†å…¶èµ‹å€¼ç»™ `x`

é™¤äº†è®¡ç®—, è°ƒç”¨å‡½æ•°, è°ƒç”¨å®ç­‰è¡¨è¾¾å¼ã€‚åˆ›å»ºçš„æ–°èŒƒå›´å—å¤§æ‹¬å·ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼:

```rust
// æ³¨æ„: è‹¥åœ¨æœ«å°¾æ·»åŠ åˆ†å·ï¼Œå®ƒå°†å˜æˆä¸€ä¸ªè¯­å¥ï¼Œä¸ä¼šè¿”å›ä»»ä½•å€¼
let y = { let x = 3; x + 1 };
```

å‡½æ•°å®šä¹‰æœ¬èº«æ˜¯ä¸€ä¸ªè¯­å¥

```rust
fn main() {
    let c = add(1, 2);
    println!("{c}");
}

// å‡½æ•°å®šä¹‰ä½ç½®å¯åœ¨è°ƒç”¨åé¢, å‡½æ•°å¿…é¡»å£°æ˜å‡½æ•°å‚æ•°ç±»å‹
fn add(a: i32, b: i32) -> i32 {
    // return a + b; å¯ç®€å†™ä¸ºå¦‚ä¸‹å½¢å¼
    a + b
}
```


## æ§åˆ¶æµ

#### 1. æ¡ä»¶è¯­å¥

```rust
let number = 3;

// Rust ä¸ä¼šå°†éå¸ƒå°”è‡ªåŠ¨è½¬å¸ƒå°”, é¡»æ˜ç¡®å¹¶å§‹ç»ˆæä¾› if ä»¥å¸ƒå°”å€¼ä½œä¸ºæ¡ä»¶
if number != 0 {
    println!("number was something other than zero");
}

// å› ä¸º if æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼, æˆ‘ä»¬å¯ä»¥å°†å€¼ä¼ ç»™ let å˜é‡
let number = if condition { 5 } else { 6 };

// ç¼–è¯‘é”™è¯¯, if ä½œä¸ºè¡¨è¾¾å¼èµ‹å€¼æ—¶, if æ¯ä¸ªåˆ†æ”¯äº§å‡ºçš„å€¼å¿…é¡»å…·æœ‰ç›¸åŒçš„ç±»å‹
let number = if condition { 5 } else { "six" };
```

#### 2. å¾ªç¯

Rust å…·æœ‰ä¸‰ç§å¾ªç¯ï¼šloopã€while å’Œ for

```rust

// break å¯ä»¥ç”¨äºä»å¾ªç¯è¡¨è¾¾å¼ä¸­è¿”å›ä¸€ä¸ªå€¼
let result = loop {
    counter += 1;
    if counter == 10 {
        break counter * 2;
    }
};

// å¾ªç¯åµŒå¥—ä¸­, å¯ä»¥ break æˆ– continue æŒ‡å®šæ ‡ç­¾ç”¨äºä»å†…å±‚å¾ªç¯ä¸­è·³å‡º
'counting_up: loop {
    loop {
        break 'counting_up;
    }
}

// æ¡ä»¶å¾ªç¯
let mut number = 3;
while number != 0 {
    println!("{number}!");
    number -= 1;
}

// for å¾ªç¯, i å– 0, 1, 2 è¡¨è¾¾å¼ 0..3 è¿”å›å¯è¿­ä»£çš„ Range<> ç±»å‹
for i in 0..3 {
    println!("{i}");
}

// i å–å€¼å˜æˆ 0, 1, 2, 3
for i in 0..=3 {
    println!("{i}");
}

// Range<> ç±»å‹åŒ…å«å¤šç§æ–¹æ³•, step_by() æŒ‡å®šæ­¥è¿›é•¿åº¦, rev() å°†åºåˆ—åè½¬
for i in (0..3).rev() {
    println!("{i}");
}

// æ•°ç»„æœ¬èº«å°±æ˜¯å¯è¿­ä»£çš„
let a = [10, 20, 30, 40, 50];
for element in a {
    println!("the value is: {element}");
}
```
