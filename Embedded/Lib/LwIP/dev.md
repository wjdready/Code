
# [2023-03-13 15:54:14]

之前 USB 的 RNDIS 模式让我想起了一个非常实用的应用，那就是内嵌一个简答的网页服务器到设备，在设备插入 USB 后被虚拟成网卡，主机打开浏览器请求 HTTP 时设备返回网页和 Js， 然后在 Js 中对设备进行配置和通信。

去 github 上看，好像有人做出来过了 [lrndis](https://github.com/fetisov/lrndis.git), 但是使用的是 stm32 的 HAL 库，通用性差了点。不过可以主要看他的 http 部分怎么实现。到时候再整个 Mini 版的 Vue 就很舒服。

那么首先 LwIP 到底是入如何工作的呢？

Lwip 作为一款主要应用于嵌入式领域的开源 TCP/IP 协议栈，除了实现基本的 TCP/IP 功能之外，还能支持 DNS、SNMP、DHCP、IGMP 等高级应用。初此之外，在嵌入式设备 RAM 和 ROM 资源有限的情况下，Lwip 有自己的一套独特的内存管理机制，甚至不需要操作系统的支持也可以运行，这样几十 K 的 RAM 或者 ROM 就可以满足它的系统需求了。

