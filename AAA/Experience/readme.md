

踩过的【坑】:

## C

1. 数据通信进行拼接时，注意 buf 类型最好不要选择 char, 而是应当选择 uint8_t, 否则拼接类似 
   uint32_t val = (buf[3] << 24) | (buf[2] << 16) | (buf[1] << 8) | (buf[0] << 0)
   因为 char 有符号，移位时会保留符号位导致出错。

## STM32

1. 板子上有两片 stm32, 一个是 f405, 一个是 f413, 没看清楚是哪个芯片就开始接线调试，搞半天发现调的芯片错了, f413 的程序可以直接下载到 f405, 
   但是初始化 I2S3 口时时钟总是出错，无法初始化成功。拿 H7 的代码同样配置可以跑通，于是怀疑是官方代码有问题，研究初始化阶段到底是哪里有问题，用 H7 代码对照着看，
   最后虽然能初始化通过，但是不好。根本原因是没有及时发现调试的芯片压根对不上。
2. USB 识别不成功，同样是因为调错芯片，RCC 外部晶振配置出错，两个芯片的晶振时钟不一样，一个是 8MHz, 另一个是 12.288M, 是为了方便音频同步所以直接使用12.288M 作为系统时钟源。

